<div class="container">

  <div class="mb-4">
    <h2 class="text-primary fw-bold">Productos actualizados</h2>
    <p class="text-muted">Se actualiza automáticamente con WebSocket</p>
  </div>

  <div class="row g-4">

    <!--creo tabla-->
    <div class="col-12 col-lg-8">
      <div class="card shadow border-0">
        <div class="card-header bg-primary text-white">
          Lista de productos
        </div>

        <div class="table-responsive">
          <table class="table table-striped table-hover align-middle mb-0">
            <thead class="table-info">
              <tr>
                <th>Nombre</th>
                <th>Descripción</th>
                <th class="text-end">Precio</th>
                <th class="text-end">Stock</th>
                <th>Imagen</th>
                <th>Código</th>
                <th class="text-end">Acción</th>
              </tr>
            </thead>

            <!-- id-->
            <tbody id="ProductsTable"></tbody>

          </table>
        </div>
      </div>
    </div>

    <!-- creo formulario  -->
    <div class="col-12 col-lg-4">
      <div class="card shadow border-0">
        <div class="card-header bg-info text-white">
          Agregar producto
        </div>

        <div class="card-body">
          <form 
            id="form"
            method="POST"
            action="/products"
            enctype="multipart/form-data"
            class="d-flex flex-column gap-3"
          >

            <input class="form-control" type="text" name="name" placeholder="Nombre" required>

            <input class="form-control" type="text" name="description" placeholder="Descripción" required>

            <div class="row g-2">
              <div class="col-6">
                <input class="form-control" type="number" name="price" placeholder="Precio" required>
              </div>
              <div class="col-6">
                <input class="form-control" type="number" name="stock" placeholder="Stock" required>
              </div>
            </div>

            <input class="form-control" type="file" name="thumbnail" accept="image/*">

            <input class="form-control" type="number" name="code" placeholder="Código" required>

            <button type="submit" class="btn btn-primary w-100">
              Agregar
            </button>

          </form>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- Modal para imagen -->
<div class="modal fade" id="imageModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content bg-dark">
      <div class="modal-body text-center p-0">
        <img id="modalImage" src="" class="img-fluid rounded">
      </div>
    </div>
  </div>
</div>


<script src="/socket.io/socket.io.js"></script>
<script src="/js/RealTimeProducts.js"></script>
